
模组介绍
=======
本模组允许玩家通过 JSON 配置文件 自定义掉落物在消失后的转化结果。

例如：

🥚 鸡蛋掉落物转化为小鸡（或成年鸡）实体

🧟 腐肉掉落物转化为皮革掉落物

🌱 树苗掉落物转化为树苗方块

以及更多可自定义的逻辑组合

本模组目的在于提供一个 轻量 的配置驱动系统。

## 使用方式
配置文件位于版本文件夹 `config/itemdespawntowhat/*.json` 路径下。

· 每个 JSON 文件中都包含一个示例配置，示例展示了所有可用字段

· 条目留空或删除时，将使用默认值

· JSON 采用 列表格式

· 可以在现有示例后追加新的规则，也可以删除现有示例

⚠ 注意：

· 新规则可以直接复制 { } 内的内容修改，可以按照喜好删除空值对应条目

· 两个规则之间使用 `,` 分隔（请务必使用英文逗号！）

· 不要删除最外层的 [ ]，否则会因无法识别为列表而导致崩溃

## 配置示例
以下示例演示：鸡蛋掉落物转化为鸡实体，位于 `item_to_entity.json` 文件
```json
[
{
"item": "minecraft:egg",
"dimension": "",
"need_outdoor": false,
"surrounding_blocks": {
"north": "",
"south": "",
"east": "",
"west": "",
"up": "",
"down": "minecraft:hay_block"
},
"result": "minecraft:chicken",
"conversion_time": 5,
"result_multiple": 1,
"result_limit": 30,
"entity_age": 0
}
]
```
### 字段说明
| 字段名                  | 说明                                                       |
|----------------------|----------------------------------------------------------|
| `Item`               | 需要进行转化的掉落物注册名                                            |
| `dimension`          | 生效维度。留空表示所有维度                                            |
| `need_outdoor`       | 是否必须处于露天环境                                               |
| `surrounding_blocks` | 掉落物所在方块六个方向的方块要求。注意检测的是掉落物所在格子的六面，因此在半砖上可能无法正确匹配         |
| `result`             | 转化结果的注册名。不同 JSON 文件解析为不同类型（实体 / 掉落物 / 方块等），填写错误不会报错但不会生效 |
| `conversion_time`    | 转化所需时间（单位：秒，最大不超过 300 秒）                                 |
| `result_multiple`    | 单个掉落物物品数可转化出的结果数量                                        |
| `result_limit`       | 结果数量限制。默认检测范围为掉落物周围半径 `6` 格的正方体。若结果为掉落物，则上限为该值 * `64`    |
| `entity_age`         | 若结果为具有年龄系统的实体，可设置年龄值。例如幼年动物为 `-2400` （注意：小僵尸不属于年龄实体）     |

### 注意事项
· 当转化结果达到设定的数量上限时，尚未完成转化的掉落物将会被返还。被返还的物品将不会继续参与转化检测，需要玩家拾取后重新丢出才会再次进入判定流程。

· 当一整组物品转化为方块时，方块的生成逻辑以原掉落物位置为中心，向四周按“环形扩展”的方式依次填充。

· 本模组不能替代 `Custom Item Despawn Duration` 或其他修改掉落物消失时间的模组。
本模组的掉落物消失时间上限仍遵循原版机制。

· 当前版本尚未加入“玩家死亡掉落物的转化保护”功能。
该功能已在计划中，但在正式加入前，请务必妥善保管你的物品栏。
